{"version":3,"sources":["webpack:///./src/views/learning/dynamic-components/Index.vue?213c","webpack:///src/views/learning/dynamic-components/Index.vue","webpack:///./src/views/learning/dynamic-components/Index.vue?4eac","webpack:///./src/views/learning/dynamic-components/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_g","attrs","readonly","on","onFocus1","$event","textValue","value","model","callback","$$v","expression","listeners","passwordValue","_l","item","component","_b","key","id","ref","refInFor","tag","props","events","staticRenderFns","componentmap","components","init","methods","e","console","log","target","$children","forEach","child","$attrs","name","msg","component_id","push","parent","update","arg","$emit","_this","ret","focusHandler","instance","type","targetid","Object","keys","hide","show","val","$refs","Array","isArray","comp","vis","visible"],"mappings":"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","file":"js/chunk-2d0a36c6.27f64bc8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',[_c('b-row',[_c('b-col',{staticClass:\"col-1 p-2\"},[_vm._v(\" Text Input \")]),_c('b-col',{staticClass:\"col-5\"},[_c('b-form-input',_vm._g({attrs:{\"type\":\"text\",\"id\":\"text-01\",\"readonly\":_vm.readonly('text-01'),\"dynamic-scan\":\"on\",\"data-component-name\":\"Text Input Field\"},on:{\"focus\":_vm.onFocus1,\"update\":function($event){_vm.textValue = _vm.value('text-01')}},model:{value:(_vm.textValue),callback:function ($$v) {_vm.textValue=$$v},expression:\"textValue\"}},_vm.listeners()))],1),_c('b-col',{staticClass:\"col-1 p-2\"},[_vm._v(\" Password Input \")]),_c('b-col',{staticClass:\"col-5\"},[_c('b-form-input',_vm._g({attrs:{\"type\":\"password\",\"id\":\"password-01\",\"readonly\":_vm.readonly('password-01'),\"dynamic-scan\":\"on\",\"data-component-name\":\"Password Input Field\"},on:{\"update\":function($event){_vm.passwordValue = _vm.value('password-01')}},model:{value:(_vm.passwordValue),callback:function ($$v) {_vm.passwordValue=$$v},expression:\"passwordValue\"}},_vm.listeners()))],1)],1),_vm._l((_vm.components),function(item){return _c(item.component,_vm._g(_vm._b({key:item.id,ref:item.ref,refInFor:true,tag:\"component\",attrs:{\"id\":item.id}},'component',item.props,false),item.events))})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <b-card>\r\n\r\n    <b-row>\r\n      <b-col class=\"col-1 p-2\">\r\n        Text Input\r\n      </b-col>\r\n      <b-col class=\"col-5\">\r\n        <b-form-input\r\n          type=\"text\"\r\n          v-model=\"textValue\"\r\n          @focus=\"onFocus1\"\r\n\r\n          id=\"text-01\"\r\n          v-on=\"listeners()\"\r\n          :readonly=\"readonly('text-01')\"\r\n          @update=\"textValue = value('text-01')\"\r\n          dynamic-scan=\"on\"\r\n          data-component-name=\"Text Input Field\"\r\n        >\r\n        </b-form-input>\r\n      </b-col>\r\n\r\n      <b-col class=\"col-1 p-2\">\r\n        Password Input\r\n      </b-col>\r\n      <b-col class=\"col-5\">\r\n        <b-form-input\r\n          type=\"password\"\r\n          v-model=\"passwordValue\"\r\n\r\n          id=\"password-01\"\r\n          v-on=\"listeners()\"\r\n          :readonly=\"readonly('password-01')\"\r\n          @update=\"passwordValue = value('password-01')\"\r\n          dynamic-scan=\"on\"\r\n          data-component-name=\"Password Input Field\"\r\n        >\r\n        </b-form-input>\r\n      </b-col>\r\n    </b-row>\r\n\r\n    <component\r\n      v-for=\"item in components\"\r\n      :is=\"item.component\"\r\n      :key=\"item.id\"\r\n      :id=\"item.id\"\r\n      :ref=\"item.ref\"\r\n      v-bind=\"item.props\"\r\n      v-on=\"item.events\"\r\n    ></component>\r\n  </b-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            textValue : \"\",             // Text Value\r\n            passwordValue : \"\",         // Password Value\r\n\r\n            componentmap: {},           // map for component's id\r\n            components: [],             // components information\r\n        }\r\n    },\r\n    created() {\r\n    },\r\n    mounted() {\r\n        this.init();\r\n    },\r\n    methods: {\r\n        onFocus1(e) {\r\n            console.log(\"Original Handler\", e.target);\r\n        },\r\n\r\n        init() {\r\n            this.$children.forEach(child => {\r\n                if(\"dynamic-scan\" in child.$attrs) {\r\n                    // console.log(\"mounted child\", child);\r\n                    // 식별값을 기준으로 동적컴포넌트를 제어하기 위해 id 속성정의 여부를 검증\r\n                    const id = child.id || child.name;\r\n                    if(!id) {\r\n                        const msg = \"The id or name attribute must be defined in the input form.\";\r\n                        console.log(msg);\r\n                        return false;\r\n                    }\r\n                    // 이미 초기화된 상태인지 검증\r\n                    if(id in this.componentmap) {\r\n                        const msg = \"It has already been initialized or the id or name attribute of the input form is duplicated.\";\r\n                        console.log(msg);\r\n                        return false;\r\n                    }\r\n\r\n                    // 동적 컴포넌트의 고유식별값 생성\r\n                    const component_id = \"dynamic-component-\" + id\r\n                    // 동적 컴포넌트의 고유식별값과 입력양식 고유식별값 매핑\r\n                    this.componentmap[id] = component_id;\r\n                    // const component = (() => import('./DynamicComponent'));\r\n                    // 동적 컴포넌트 배열정의\r\n                    this.components.push({\r\n                        component : () => import('./DynamicComponent'),\r\n                        id: component_id,         // 고유식별값\r\n                        ref: component_id,        // 접근제어를 위한 참조값\r\n                        props: {                  // 동적 컴포넌트 추가 속성\r\n                            parent : child,       // 부모 컴포넌트 전달\r\n                            id: component_id,     // 동적 컴포넌트 고유식별값\r\n                        },\r\n                        events : {                // 동적 컴포넌트에서 발생하는 이벤트 정의\r\n                            update: (arg) => {\r\n                                // console.log(\"Event from Dynamic Components\", arg);\r\n                                child.$emit(\"update\", arg);       // 동적 컴포넌트 이벤트 발생시 해당 입력양식의 이벤트로 전달\r\n                            }\r\n                        },\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        // 입력양식의 동적 이벤트 추가\r\n        listeners() {\r\n            const _this = this;\r\n            const ret = {};\r\n\r\n            ret.focus = (e) => {\r\n                // console.log(e);\r\n                _this.focusHandler(_this, e);\r\n            }\r\n\r\n            return ret;\r\n        },\r\n        // 포커스 이벤트 처리 핸들러\r\n        focusHandler(instance, e) {\r\n            console.log(\"Focus Handler\", e.target);\r\n            const type = e.type;\r\n            const targetid = e.target ? e.target.id || e.target.name : \"\";\r\n\r\n            // Hide All\r\n            Object.keys(this.componentmap).forEach((id) => {\r\n                this.hide(id);\r\n            });\r\n\r\n            // Show Component\r\n            if(targetid in this.componentmap) {\r\n                this.show(targetid);\r\n            }\r\n        },\r\n\r\n        // 입력양식의 읽기전용 속성 제어\r\n        readonly(id) {\r\n            return id in this.componentmap\r\n        },\r\n\r\n        // 동적 컴포넌트에서 값을 읽어오기 위한 함수\r\n        value(id) {\r\n            const component_id = this.componentmap[id];\r\n            // console.log(\"Component 1\", component_id);\r\n            let val = \"\";\r\n            if(id in this.componentmap && component_id in this.$refs) {\r\n                const component = this.$refs[component_id];\r\n                // console.log(\"Component 2\", component);\r\n                if(component && Array.isArray(component)) {\r\n                    component.forEach(comp => {\r\n                        // console.log(\"Component 3\", comp);\r\n                        val = comp.value();\r\n                    })\r\n                } else {\r\n                    val = component.value();\r\n                }\r\n            }\r\n            return val;\r\n        },\r\n        // 동적 컴포넌트의 보이기/숨기기를 제어하기 위한 함수\r\n        visible(id, vis) {\r\n            const component_id = this.componentmap[id];\r\n            // console.log(\"Component 1\", component_id);\r\n            // console.log(component_id, _this.vue);\r\n            if(id in this.componentmap && component_id in this.$refs) {\r\n                const component = this.$refs[component_id];\r\n                // console.log(\"Component 2\", component);\r\n                if(component && Array.isArray(component)) {\r\n                    component.forEach(comp => {\r\n                        // console.log(\"Component 3\", kpd);\r\n                        // console.log(kpd);\r\n                        vis ? comp.show() : comp.hide();\r\n                    })\r\n                } else {\r\n                    vis ? component.show() : component.hide();\r\n                }\r\n            }\r\n        },\r\n        // 동적 컴포넌트의 보이기\r\n        show(id) {\r\n            this.visible(id, true);\r\n        },\r\n        // 동적 컴포넌트의 숨기기\r\n        hide(id) {\r\n            this.visible(id, false);\r\n        },\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/@vue/cli-service/node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=ea7271b8&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}